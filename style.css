:root{
  --bg1: #ffd6e0;
  --bg2: #ffb6c1;
  --accent: #ff2e63;
  --accent-dark: #c71f44;
  --paper: #fff6f8;
}

*{box-sizing:border-box}
body,html{height:100%;margin:0;font-family:Inter, Poppins, system-ui, sans-serif;background:linear-gradient(160deg,var(--bg1),var(--bg2));color:#3b0a1e}
.page{max-width:900px;margin:0 auto;padding:30px;text-align:center}
.heading{font-size:28px;margin:6px 0 0;color:var(--accent-dark)}
.sub{margin:6px 0 20px;color:#6a2130}

/* Envelope */
.envelope{
  width:260px;height:170px;margin:30px auto;position:relative;cursor:pointer;
  perspective:800px;
}
.envelope .body{
  position:absolute;left:0;right:0;bottom:0;height:120px;background:linear-gradient(180deg,#ff7b97,#ff4f79);
  border-radius:10px;box-shadow:0 8px 30px rgba(203,16,77,0.25);z-index:1;overflow:visible;
}
.envelope .flap{
  position:absolute;left:0;right:0;top:0;height:120px;background:linear-gradient(180deg,#ffd1da,#ff9bb0);
  clip-path:polygon(0 0,100% 0,50% 100%);
  border-radius:10px 10px 0 0;
  transform-origin:50% 95%;
  transform:rotateX(0deg);
  transition:transform 600ms cubic-bezier(.2,.9,.3,1), box-shadow 300ms;
  z-index:2;
  box-shadow:0 6px 22px rgba(0,0,0,0.15);
}

/* envelope open state */
.envelope.open .flap{
  transform:rotateX(-180deg);
  box-shadow:0 2px 8px rgba(0,0,0,0.2);
}

/* small instruction badge */
.pop-container{
  position:relative;
  height:220px;
  margin-top:10px;
}

/* popped item style */
.pop-item{
  position:absolute;
  left:50%;
  transform:translateX(-50%) translateY(0);
  bottom:60px;
  background:var(--paper);
  color:var(--accent-dark);
  padding:14px 20px;
  border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,0.15);
  font-weight:700;
  letter-spacing:0.5px;
  white-space:nowrap;
  opacity:0;
}

/* pop animation */
.pop-animate{
  animation:popUp 900ms cubic-bezier(.2,.85,.25,1) forwards;
}
@keyframes popUp{
  0%{transform:translateX(-50%) translateY(30px) scale(.9); opacity:0}
  40%{transform:translateX(-50%) translateY(-90px) scale(1.08); opacity:1}
  70%{transform:translateX(-50%) translateY(-60px) scale(0.98)}
  100%{transform:translateX(-50%) translateY(-80px) scale(1); opacity:1}
}

/* fade-out */
.pop-fade{
  animation:fadeOut 600ms ease forwards;
  animation-delay:1s;
}
@keyframes fadeOut{
  to{opacity:0; transform:translateX(-50%) translateY(-110px) scale(.9)}
}

/* final screen */
.final-screen{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;
  z-index:9999;background:black;color:#ff5151;
}
.final-text{font-size:46px;text-align:center;font-weight:900;line-height:1.05;animation:shake 300ms infinite}
.small-btn{
  margin-top:24px;padding:10px 18px;border-radius:8px;border:none;background:#ff4470;color:white;font-weight:700;cursor:pointer;box-shadow:0 10px 30px rgba(255,68,112,.18)
}

/* shake */
@keyframes shake{
  0%{transform:translateY(0)}
  25%{transform:translateY(-8px)}
  50%{transform:translateY(4px)}
  75%{transform:translateY(-6px)}
  100%{transform:translateY(0)}
}

/* responsive */
@media (max-width:480px){
  .envelope{width:200px;height:140px}
  .pop-item{font-size:14px;padding:10px 14px}
  .final-text{font-size:30px}
}

